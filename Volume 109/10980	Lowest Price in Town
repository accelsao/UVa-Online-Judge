#include<iostream>
#include<algorithm>
#include<map>
#include<string>
#include<cstdio>
#include<queue>
#include<cmath>
#include<stack>
#include<cctype>
#include<sstream>
using namespace std;

struct pos{
	int n;
	double p;
	//buy n such items for $p
}s[50];

int m;
double up; //unitprice
int t = 1;
void dp(){
	double w[201] = {};//可以買多來達到低價的可能 估計2倍
	for (int i = 1; i < 201; i < i++)//建單價表
		w[i] = w[i - 1] + up;
	
	for (int i = 0; i < m; i++)
		for (int j = s[i].n; j <= 200; j++)//從低數量開始 高數量可從很多個低數量買
			w[j] = min(w[j], w[j - s[i].n] + s[i].p);

	for (int j = 199; j >= 0; j--)
		w[j] = min(w[j], w[j + 1]);//取低價
	printf("Case %d:\n", t++);
	string r;
	getchar();
	getline(cin, r);
	stringstream ss(r);
	int num;
	while (ss >> num){
		printf("Buy %d for $%.02lf\n", num, w[num]);
	}
}
int main(){
	while (cin >> up >> m){
		for (int i = 0; i < m; i++)
			cin >> s[i].n >> s[i].p;
		dp();
	}
}
