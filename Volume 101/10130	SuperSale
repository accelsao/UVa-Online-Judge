#include<iostream>
#include<algorithm>
#include<map>
#include<string>
#include<cstdio>
#include<queue>
#include<cmath>
#include<stack>
#include<cctype>
#include<sstream>
using namespace std;

struct pos{
	int p, w;
	//price,weight
}s[1001];
int n;
int ans = 0;
void dp(int b){//負重
	int m[31] = {};
	for (int i = 0; i < n; i++)
		for (int j = b; j >= s[i].w; j--)
			m[j] = max(m[j], m[j - s[i].w] + s[i].p);
	ans += m[b];
}
int main(){
	int t;
	cin >> t;
	while (t--){
		ans = 0;
		cin >> n;
		for (int i = 0; i < n; i++)
			cin >> s[i].p >> s[i].w;
		int g,b;
		cin >> g;
		for (int i = 0; i < g; i++){
			cin >> b;
			dp(b);
		}
		cout << ans << endl;
	}
}
